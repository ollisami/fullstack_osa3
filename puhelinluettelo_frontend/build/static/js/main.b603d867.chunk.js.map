{"version":3,"sources":["services/personService.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","getAll","axios","get","then","response","data","personService","newObject","post","id","put","concat","delete","Filter","_ref","filter","filterChange","react_default","a","createElement","value","onChange","PersonForm","props","onSubmit","addPerson","newName","handleNameChange","newPhone","handlePhoneChange","type","Persons","persons","person","name","toLowerCase","includes","filteredPersons","map","key","number","onClick","removePerson","listPersons","Notification","message","isError","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewPhone","_useState7","_useState8","setFilter","_useState9","_useState10","setMessage","useEffect","updatePersonList","initialPersons","catch","error","setTimedMessage","newMessage","setTimeout","src_components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","personObject","current","find","window","confirm","returnedPerson","components_Persons","p","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b603d867.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => getAll())\n}\n\nexport default { getAll, create, update, remove }","import React from 'react'\n\nconst Filter = ({filter, filterChange}) => (\n  <div>\n    rajaa näytettäviä \n    <input\n      value={filter}\n      onChange={filterChange}\n    />\n  </div>\n)\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = props => (\n  <form onSubmit={props.addPerson}>\n    <div>\n      nimi: \n      <input\n        value={props.newName}\n        onChange={props.handleNameChange}\n      />\n    </div>\n    <div\n      >numero:\n      <input\n        value={props.newPhone}\n        onChange={props.handlePhoneChange}\n      />\n    </div>\n    <div>\n      <button type=\"submit\">lisää</button>\n    </div>\n  </form>\n)\n\nexport default PersonForm","import React from 'react'\n\nconst filteredPersons = ({persons,filter}) => (\n    persons.filter(\n      person => person.name.toLowerCase()\n      .includes(filter)\n    )\n)\n\nconst listPersons = props => (\n    filteredPersons(props)\n    .map(person =>\n        <li key={person.id}>\n            {person.name}\n            &nbsp;\n            {person.number}\n            &nbsp;\n            <button onClick={() => props.removePerson(person.id)}>poista</button>\n        </li>\n    )\n)\n\nconst Persons = props => (\n    <ul>\n        {listPersons(props)}\n    </ul>\n)\n\nexport default Persons","import React from 'react'\nimport './Notification.css'\n\nconst Notification = ({ message }) => {\n    if (message.message === '') {\n      return null\n    }\n\n    if(!message.isError) {\n        return (\n            <div className=\"success\">\n              {message.message}\n            </div>\n        )\n    }\n  \n    return (\n      <div className=\"error\">\n        {message.message}\n      </div>\n    )\n  }\n\n  export default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/personService'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newPhone, setNewPhone ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [message, setMessage] = useState({\n    message: '',\n    isError: true\n  })\n\n  useEffect(() => updatePersonList(), [])\n\n  const updatePersonList = () => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(error => {\n        setTimedMessage('Haku epäonnistui', true)\n      })\n  }\n\n  const setTimedMessage = (newMessage, isError) => {\n    setMessage({\n      message: newMessage,\n      isError: isError\n    })\n    setTimeout(() => {\n      setMessage({\n        message: '',\n        isError: false\n      })\n    }, 5000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const personObject = {\n      name: newName,\n      number: newPhone,\n    }\n    const current = persons.find(person => person.name === newName)\n    if (!current) {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setTimedMessage(`Henkilön ${returnedPerson.name} lisäys onnistui`, false)\n      })\n      .catch(error => {\n        setTimedMessage(\"Virhe:\" + error, true)\n      })\n    } else if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        personService\n          .update(current.id, personObject)\n          .then(returnedPerson => {\n            setPersons(persons.map( person => person.id !== current.id ? person : returnedPerson))\n            setTimedMessage(`Henkilön ${returnedPerson.name}  päivitys onnistui`, false)\n      })\n      .catch(error => {\n        setTimedMessage(`Henkilö ${newName} oli jo poistettu`, true)\n        updatePersonList()\n      })\n    }\n    setNewName('')\n    setNewPhone('')\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handlePhoneChange = (event) => {\n    setNewPhone(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const removePerson = id => {\n    const p = persons.find(person => {\n      return person.id === id\n    })\n    if (p && window.confirm(`Poistetaanko ${p.name}?`)) {\n      personService\n        .remove(id)\n        .then(initialPersons => {\n          setPersons(initialPersons)\n          setTimedMessage(`Henkilön ${p.name}  poisto onnistui`, false)\n        })\n        .catch(error => {\n          setTimedMessage('Henkilön poisto epäonnistui', true)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={message} />\n      <Filter filter={filter} filterChange={handleFilterChange} />\n\n      <h3> lisää uusi </h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newPhone={newPhone}\n        handlePhoneChange={handlePhoneChange}\n      />\n\n      <h3>Numerot</h3>\n      <Persons\n        persons={persons}\n        filter={filter}\n        removePerson={removePerson}\n      />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}